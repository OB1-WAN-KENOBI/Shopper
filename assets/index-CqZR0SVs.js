(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&e(i)}).observe(document,{childList:!0,subtree:!0});function c(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function e(o){if(o.ep)return;o.ep=!0;const r=c(o);fetch(o.href,r)}})();let l=[];document.querySelectorAll(".add-btn").forEach(t=>{t.addEventListener("click",function(){const n=this.getAttribute("data-title"),c=parseFloat(this.getAttribute("data-price"));let e=null,o=this.closest(".seller-card, .deal-card, .featured-actions");o&&o.querySelector("img")&&(e=o.querySelector("img").getAttribute("src")),d(n,c,e)})});function d(t,n,c){const e=l.find(o=>o.title===t);e?e.qty+=1:l.push({title:t,price:n,qty:1,img:c}),a(),u(),y()}function s(t){l=l.filter(n=>n.title!==t),a()}function m(t,n){const c=l.find(e=>e.title===t);c&&(c.qty+=n,c.qty<=0&&s(t),a())}function a(){let t=l.reduce((e,o)=>e+o.qty,0),n=l.reduce((e,o)=>e+o.price*o.qty,0);document.getElementById("cart-count").textContent=t+(t===1?" item":" items"),document.getElementById("cart-total").textContent="$"+n.toFixed(2);const c=document.getElementById("cart-modal-body");c&&(c.innerHTML="",l.length===0?c.innerHTML="<div style='color:#888;margin:40px 0;text-align:center;'>Cart is empty</div>":l.forEach(e=>{c.innerHTML+=`
        <div class="cart-modal-item">
          <img src="${e.img?e.img:"https://via.placeholder.com/44"}" class="cart-modal-item-img" alt="">
          <div class="cart-modal-item-info">
            <div class="cart-modal-item-title">${e.title}</div>
            <div class="cart-modal-item-price">$${e.price.toFixed(2)}</div>
            <div class="cart-modal-qty">
              <button class="cart-modal-qty-btn" data-title="${e.title}" data-delta="-1">-</button>
              <span>${e.qty}</span>
              <button class="cart-modal-qty-btn" data-title="${e.title}" data-delta="1">+</button>
              <button class="cart-modal-remove-btn" data-title="${e.title}" title="Remove">&times;</button>
            </div>
          </div>
        </div>
        `}),document.getElementById("cart-modal-total").textContent="$"+n.toFixed(2),document.querySelectorAll(".cart-modal-qty-btn").forEach(e=>{e.onclick=function(){m(this.getAttribute("data-title"),Number(this.getAttribute("data-delta")))}}),document.querySelectorAll(".cart-modal-remove-btn").forEach(e=>{e.onclick=function(){s(this.getAttribute("data-title"))}}))}document.querySelector(".cart-btn").addEventListener("click",function(t){document.getElementById("cart-modal").classList.add("open")});document.getElementById("cart-modal-close").onclick=function(){document.getElementById("cart-modal").classList.remove("open")};document.querySelector(".cart-modal-overlay").onclick=function(){document.getElementById("cart-modal").classList.remove("open")};window.addEventListener("keydown",t=>{t.key==="Escape"&&document.getElementById("cart-modal").classList.remove("open")});document.getElementById("cart-modal-checkout").onclick=function(){if(l.length===0){alert("Cart is empty!");return}alert("Thank you for your order!"),l=[],a(),document.getElementById("cart-modal").classList.remove("open")};function u(){const t=document.getElementById("cart-toast");t.classList.add("show"),setTimeout(()=>t.classList.remove("show"),1200)}function y(){const t=document.querySelector(".cart-btn");t.classList.add("animated"),setTimeout(()=>t.classList.remove("animated"),350)}document.querySelectorAll(".seller-card, .deal-card").forEach(t=>{t.addEventListener("click",function(n){if(n.target.closest(".add-btn"))return;const c=t.querySelector("h3, h4")?t.querySelector("h3, h4").textContent:"Product",e=t.querySelector(".price")?t.querySelector(".price").textContent:"",o=t.querySelector("img")?t.querySelector("img").getAttribute("src"):"",r=t.querySelector("p")?t.querySelector("p").textContent:"No description";document.getElementById("product-modal-title").textContent=c,document.getElementById("product-modal-body").innerHTML=`
      <img src="${o}" style="width:140px;height:140px;object-fit:contain;display:block;margin:10px auto 18px;border-radius:16px;background:#f6f6f6;box-shadow:0 1px 6px rgba(20,206,108,0.07);" alt="">
      <div style="font-size:1.15rem;color:#252525;text-align:center;margin-bottom:10px;">${c}</div>
      <div style="color:#666;text-align:center;margin-bottom:16px;font-size:1rem;">${r}</div>
      <div style="text-align:center;font-weight:bold;font-size:1.2rem;color:#14ce6c;margin-bottom:18px;">${e}</div>
      <button class="add-btn" style="display:block;margin:0 auto;" data-title="${c}" data-price="${parseFloat(e.replace(/[^0-9.]/g,""))}">Add to cart</button>
    `,document.getElementById("product-modal").classList.add("open"),document.querySelector("#product-modal .add-btn").onclick=function(){d(c,parseFloat(e.replace(/[^0-9.]/g,"")),o,document.querySelector("#product-modal img")),document.getElementById("product-modal").classList.remove("open")}})});document.getElementById("product-modal-close").onclick=function(){document.getElementById("product-modal").classList.remove("open")};document.querySelectorAll("#product-modal .cart-modal-overlay").forEach(t=>{t.onclick=function(){document.getElementById("product-modal").classList.remove("open")}});window.addEventListener("keydown",t=>{t.key==="Escape"&&document.getElementById("product-modal").classList.remove("open")});a();
